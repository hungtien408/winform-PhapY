<Application x:Class="PhapY.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Custom="http://schemas.microsoft.com/wpf/2008/toolkit"
             xmlns:my="clr-namespace:ComponentArt.Win.UI.Data;assembly=ComponentArt.Win.UI.Data"
             xmlns:my1="clr-namespace:ComponentArt.Win.UI.Input;assembly=ComponentArt.Win.UI.Input"
             xmlns:System="clr-namespace:System;assembly=mscorlib"  
             xmlns:ComponentArt_Win_UI_Utils="clr-namespace:ComponentArt.Win.UI.Utils;assembly=ComponentArt.Win.UI.Common"
             DispatcherUnhandledException="App_Unhandle"
             Startup="Application_Startup"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <ControlTemplate x:Key="DatePickerTextBoxControlTemplate1" TargetType="{x:Type Custom:DatePickerTextBox}">
            <Grid>
                <Grid.Resources>
                    <SolidColorBrush x:Key="WatermarkBrush" Color="#FFAAAAAA"/>
                </Grid.Resources>
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualStateGroup.Transitions>
                            <VisualTransition From="{x:Null}" GeneratedDuration="0" Storyboard="{x:Null}" To="{x:Null}"/>
                            <VisualTransition From="{x:Null}" GeneratedDuration="0:0:0.1" Storyboard="{x:Null}" To="MouseOver"/>
                        </VisualStateGroup.Transitions>
                        <VisualState x:Name="Normal"/>
                        <VisualState x:Name="MouseOver">
                            <Storyboard>
                                <ColorAnimation Duration="0" To="#FF99C1E2" Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" Storyboard.TargetName="ContentElement"/>
                                <ColorAnimation Duration="0" To="#FF99C1E2" Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" Storyboard.TargetName="watermark_decorator"/>
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="WatermarkStates">
                        <VisualStateGroup.Transitions>
                            <VisualTransition From="{x:Null}" GeneratedDuration="0" Storyboard="{x:Null}" To="{x:Null}"/>
                        </VisualStateGroup.Transitions>
                        <VisualState x:Name="Unwatermarked"/>
                        <VisualState x:Name="Watermarked">
                            <Storyboard>
                                <DoubleAnimation Duration="0" To="0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="ContentElement"/>
                                <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PART_Watermark"/>
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates">
                        <VisualStateGroup.Transitions>
                            <VisualTransition From="{x:Null}" GeneratedDuration="0" Storyboard="{x:Null}" To="{x:Null}"/>
                        </VisualStateGroup.Transitions>
                        <VisualState x:Name="Unfocused"/>
                        <VisualState x:Name="Focused">
                            <Storyboard>
                                <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="FocusVisual"/>
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
                <Border x:Name="Border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="Transparent" CornerRadius="1" Opacity="1" Padding="{TemplateBinding Padding}">
                    <Grid x:Name="WatermarkContent" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                        <Border x:Name="ContentElement" BorderBrush="White" BorderThickness="1"/>
                        <Border x:Name="watermark_decorator" BorderBrush="White" BorderThickness="1">
                            <ContentControl x:Name="PART_Watermark" Content="dd/mm/yyyy" Foreground="#999" Focusable="False" IsHitTestVisible="False" Opacity="0" Padding="2"/>
                        </Border>
                        <ScrollViewer x:Name="PART_ContentHost" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="0" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        <Border x:Name="FocusVisual" BorderBrush="#FF45D6FA" CornerRadius="1" IsHitTestVisible="False" Opacity="0"/>
                    </Grid>
                </Border>
            </Grid>
        </ControlTemplate>
        <Style TargetType="{x:Type Custom:DatePickerTextBox}">
            <Setter Property="Template" Value="{DynamicResource DatePickerTextBoxControlTemplate1}" />
        </Style>

        <Style x:Key="InsertButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="InsertImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="InsertImage" Source="/PhapY;component/assets/images/Component_Art/Datagrid/add_button.png" Stretch="None" />
                            <Image x:Name="InsertImageHover" Source="/PhapY;component/assets/images/Component_Art/Datagrid/add_button_hover.png" Stretch="None" Opacity="0" ToolTip="Thêm" Cursor="Hand"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="EditButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="EditImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="EditImage" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_editing_edit.png" Stretch="None" />
                            <Image x:Name="EditImageHover" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_editing_edit_hover.png" Stretch="None" Opacity="0" ToolTip="Sửa" Cursor="Hand"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="DeleteButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="DeleteImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="DeleteImage" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_editing_delete.png" Stretch="None" />
                            <Image x:Name="DeleteImageHover" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_editing_delete_hover.png" Stretch="None" Opacity="0" ToolTip="Xóa" Cursor="Hand"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="UpdateButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="AcceptImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="AcceptImage" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_editing_accept.png" Stretch="None" />
                            <Image x:Name="AcceptImageHover" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_editing_accept_hover.png" Stretch="None" Opacity="0" ToolTip="Hoàn tất"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="CancelButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="CancelImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="CancelImage" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_editing_cancel.png" Stretch="None"/>
                            <Image x:Name="CancelImageHover" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_editing_cancel_hover.png" Stretch="None" Opacity="0" ToolTip="Hủy bỏ" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="RefreshButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="InsertImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="InsertImage" Source="/PhapY;component/assets/images/Component_Art/Datagrid/refresh_button.png" Stretch="None" />
                            <Image x:Name="InsertImageHover" Source="/PhapY;component/assets/images/Component_Art/Datagrid/refresh_button_hover.png" Stretch="None" Opacity="0" ToolTip="Làm mới" Cursor="Hand"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ViewButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ViewImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="ViewImage" Source="/PhapY;component/Images/find_document.png" Stretch="None" />
                            <Image x:Name="ViewImageHover" Source="/PhapY;component/Images/find_document-hover.png" Stretch="None" Opacity="0" ToolTip="Chi tiết" Cursor="Hand"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="QuickEditButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="InsertImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="InsertImage" Source="/PhapY;component/assets/images/Component_Art/Datagrid/quick_edit.png" Stretch="Uniform" />
                            <Image x:Name="InsertImageHover" Source="/PhapY;component/assets/images/Component_Art/Datagrid/quick_edit_hover.png" Stretch="Uniform" Opacity="0" ToolTip="Sửa nhanh" Cursor="Hand"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ExportExcelButton" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="InsertImageHover" Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Image x:Name="InsertImage" Source="/PhapY;component/Images/excel_icon.jpg" Stretch="None" />
                            <Image x:Name="InsertImageHover" Source="/PhapY;component/Images/excel_icon.jpg" Stretch="None" Opacity="0" ToolTip="Xuất ra Excel" Cursor="Hand"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type my:DataGrid}">
            <Setter Property="PagerInfoTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Trang "><TextBlock.Style>
        				<Style TargetType="{x:Type TextBlock}">
        					<Setter Property="Foreground" Value="Black"/>
        				</Style>
        			</TextBlock.Style></TextBlock>
                            <TextBlock>
        			<TextBlock.Style>
        				<Style TargetType="{x:Type TextBlock}">
        					<Setter Property="Foreground" Value="Black"/>
        				</Style>
        			</TextBlock.Style>
        			<TextBlock.Text>
        				<Binding ConverterParameter="{}{0:#,###,###,###,###,###,###,###,###,##0}" Path="PageNumber">
        					<Binding.Converter>
        						<my:DataGridNumberFormatter/>
        					</Binding.Converter>
        				</Binding>
        			</TextBlock.Text>
                            </TextBlock>
                            <TextBlock Text=" - "><TextBlock.Style>
        				<Style TargetType="{x:Type TextBlock}">
        					<Setter Property="Foreground" Value="Black"/>
        				</Style>
        			</TextBlock.Style></TextBlock>
                            <TextBlock>
        			<TextBlock.Style>
        				<Style TargetType="{x:Type TextBlock}">
        					<Setter Property="Foreground" Value="Black"/>
        				</Style>
        			</TextBlock.Style>
        			<TextBlock.Text>
        				<Binding ConverterParameter="{}{0:#,###,###,###,###,###,###,###,###,##0}" Path="Owner.PageCount">
        					<Binding.Converter>
        						<my:DataGridNumberFormatter/>
        					</Binding.Converter>
        				</Binding>
        			</TextBlock.Text>
                            </TextBlock>
                            <TextBlock Text=" ("><TextBlock.Style>
        				<Style TargetType="{x:Type TextBlock}">
        					<Setter Property="Foreground" Value="Black"/>
        				</Style>
        			</TextBlock.Style><Run Text=" ("/></TextBlock>
                            <TextBlock>
        			<TextBlock.Style>
        				<Style TargetType="{x:Type TextBlock}">
        					<Setter Property="Foreground" Value="Black"/>
        				</Style>
        			</TextBlock.Style>
        			<TextBlock.Text>
        				<Binding ConverterParameter="{}{0:#,###,###,###,###,###,###,###,###,##0}" Path="Owner.RecordCount">
        					<Binding.Converter>
        						<my:DataGridNumberFormatter/>
        					</Binding.Converter>
        				</Binding>
        			</TextBlock.Text>
                            </TextBlock>
                            <TextBlock Text=" kết quả)"><TextBlock.Style>
        				<Style TargetType="{x:Type TextBlock}">
        					<Setter Property="Foreground" Value="Black"/>
        				</Style>
        			</TextBlock.Style></TextBlock>
                        </StackPanel>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="SliderPopupTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Border BorderThickness="0" Background="#B0000000" CornerRadius="6" Padding="10">
                            <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" VerticalAlignment="Center">
                                <TextBlock Foreground="White" Text="Trang "></TextBlock>
                                <TextBlock Foreground="White" FontWeight="Bold">
        				<TextBlock.Text>
        					<Binding ConverterParameter="{}{0:#,###,###,###,###,###,###,###,###,##0}" Path="PageNumber">
        						<Binding.Converter>
        							<my:DataGridNumberFormatter/>
        						</Binding.Converter>
        					</Binding>
        				</TextBlock.Text>
                                </TextBlock>
                                <TextBlock Foreground="White" Text=" - "></TextBlock>
                                <TextBlock Foreground="White" FontWeight="Bold">
        				<TextBlock.Text>
        					<Binding ConverterParameter="{}{0:#,###,###,###,###,###,###,###,###,##0}" Path="Owner.PageCount">
        						<Binding.Converter>
        							<my:DataGridNumberFormatter/>
        						</Binding.Converter>
        					</Binding>
        				</TextBlock.Text>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="ScrollerPopupTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Border BorderThickness="0" Background="#B0000000" CornerRadius="6" Padding="10">
                            <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" VerticalAlignment="Center">
                                <TextBlock Foreground="White" Text="Kết quả "></TextBlock>
                                <TextBlock Foreground="White" FontWeight="Bold">
        							<TextBlock.Text>
        								<Binding ConverterParameter="{}{0:#,###,###,###,###,###,###,###,###,##0}" Path="RecordNumber">
        									<Binding.Converter>
        										<my:DataGridNumberFormatter/>
        									</Binding.Converter>
        								</Binding>
        							</TextBlock.Text>
                                </TextBlock>
                                <TextBlock Foreground="White" Text=" - "></TextBlock>
                                <TextBlock Foreground="White" FontWeight="Bold">
        							<TextBlock.Text>
        								<Binding ConverterParameter="{}{0:#,###,###,###,###,###,###,###,###,##0}" Path="Owner.RecordCount">
        									<Binding.Converter>
        										<my:DataGridNumberFormatter/>
        									</Binding.Converter>
        								</Binding>
        							</TextBlock.Text>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                        <GradientStop Color="#FF777777"/>
                        <GradientStop Color="#FF555555" Offset="0.029"/>
                        <GradientStop Color="Black" Offset="0.032"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="BorderBrush" Value="Black"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Hidden"/>
            <Setter Property="FooterVisibility" Value="Visible"/>
            <Setter Property="HeaderVisibility" Value="Collapsed"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type my:DataGrid}">
                        <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" CornerRadius="{TemplateBinding CornerRadius}" HorizontalAlignment="{TemplateBinding HorizontalAlignment}" Height="{TemplateBinding Height}" Padding="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalAlignment}" Width="{TemplateBinding Width}">
                            <Grid x:Name="RootElement">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Border HorizontalAlignment="Stretch" Visibility="{TemplateBinding HeaderVisibility}">
                                    <Border.Style>
                                        <Style TargetType="{x:Type Border}">
                                            <Setter Property="Padding" Value="3"/>
                                            <Setter Property="Height" Value="36"/>
                                        </Style>
                                    </Border.Style>
                                    <Grid x:Name="DataGridHeaderContainer" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel x:Name="DataGridHeader" Orientation="Horizontal" VerticalAlignment="Stretch"/>
                                        <ContentControl x:Name="DataGridHeaderDrop" Grid.Column="1" Visibility="Collapsed">
                                            <ContentControl.Template>
                                                <ControlTemplate>
                                                    <Canvas x:Name="GroupDropIndicatorContainer" HorizontalAlignment="Left" Height="25" Margin="0,0,6,0" VerticalAlignment="Center" Width="9">
                                                        <Canvas.Triggers>
                                                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                                                <BeginStoryboard>
                                                                    <Storyboard x:Name="Animation">
                                                                        <DoubleAnimation AutoReverse="True" Duration="0:0:0.35" From="0" RepeatBehavior="Forever" To="-6" Storyboard.TargetProperty="Y" Storyboard.TargetName="TopTranslateTransform"/>
                                                                        <DoubleAnimation AutoReverse="True" Duration="0:0:0.35" From="0" RepeatBehavior="Forever" To="6" Storyboard.TargetProperty="Y" Storyboard.TargetName="BottomTranslateTransform"/>
                                                                        <DoubleAnimation AutoReverse="True" Duration="0:0:0.35" From="1" RepeatBehavior="Forever" To="0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="GroupDropIndicatorContainer"/>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                        </Canvas.Triggers>
                                                        <Path Data="M0,0L5,5 9,0" Fill="Red">
                                                            <Path.RenderTransform>
                                                                <TranslateTransform x:Name="TopTranslateTransform" Y="0"/>
                                                            </Path.RenderTransform>
                                                        </Path>
                                                        <Path Data="M0,24L5,19 9,24" Fill="Red">
                                                            <Path.RenderTransform>
                                                                <TranslateTransform x:Name="BottomTranslateTransform" Y="0"/>
                                                            </Path.RenderTransform>
                                                        </Path>
                                                    </Canvas>
                                                </ControlTemplate>
                                            </ContentControl.Template>
                                        </ContentControl>
                                        <Grid x:Name="SearchContainer" Background="White" Grid.Column="2" Visibility="{TemplateBinding SearchBoxVisibility}" VerticalAlignment="Center" Width="100">
                                            <TextBlock x:Name="DataGridSearchBoxWatermark" Foreground="#FFE0E0E0" FontSize="10" Margin="3,0,0,0" Visibility="Collapsed" VerticalAlignment="Center"/>
                                            <TextBox x:Name="DataGridSearchBox" BorderThickness="0" Background="Transparent" Foreground="Black" FontSize="10"/>
                                        </Grid>
                                    </Grid>
                                </Border>
                                <Grid x:Name="InnerPanelUnloaded" Background="#FFE0E0E0" Grid.Column="0" HorizontalAlignment="Stretch" Grid.Row="1" VerticalAlignment="Stretch">
                                    <ComponentArt_Win_UI_Utils:Spinner x:Name="LoadingSpinner" Graphic="Comet" HorizontalAlignment="Center" RotationLoopDuration="600" VerticalAlignment="Center">
                                        <ComponentArt_Win_UI_Utils:Spinner.Source>
                                            <BitmapImage UriSource="pack://application:,,,/ComponentArt.Win.UI.Data;component/datagrid_spinner.png"/>
                                        </ComponentArt_Win_UI_Utils:Spinner.Source>
                                    </ComponentArt_Win_UI_Utils:Spinner>
                                </Grid>
                                <ScrollViewer x:Name="RowsScroller" VerticalScrollBarVisibility="Visible" Grid.Column="0" Grid.Row="1" Initialized="RowsScroller_Initialized">
                                    <Grid x:Name="InnerPanel" Background="White" HorizontalAlignment="Stretch" Opacity="0" VerticalAlignment="Stretch">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <Grid.Triggers>
                                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                                <BeginStoryboard>
                                                    <Storyboard x:Name="Animation">
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0.35" From="0" To="1" Storyboard.TargetName="InnerPanel"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </Grid.Triggers>
                                        <Grid x:Name="HeadingsContainer" Grid.Column="0" HorizontalAlignment="Stretch" Visibility="{TemplateBinding ColumnHeaderVisibility}">
                                            <Grid.Clip>
                                                <RectangleGeometry Rect="0,0,90210,90210"/>
                                            </Grid.Clip>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                        <Grid HorizontalAlignment="Stretch" Margin="0" Grid.Row="1" VerticalAlignment="Stretch">
                                            <Grid.Clip>
                                                <RectangleGeometry Rect="0,0,90210,90210"/>
                                            </Grid.Clip>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <StackPanel x:Name="RowsScrollAnimation" HorizontalAlignment="Stretch" Margin="0" Opacity="0" Orientation="Vertical" VerticalAlignment="Top"/>
                                            <!--<ScrollViewer x:Name="RowsScroller" BorderThickness="0" HorizontalAlignment="Stretch" HorizontalScrollBarVisibility="Hidden" IsTabStop="False" Margin="0" Padding="0" VerticalScrollBarVisibility="Auto" VerticalAlignment="Stretch">-->
                                            <StackPanel x:Name="RowsContainer" HorizontalAlignment="Left" Orientation="Vertical" VerticalAlignment="Top" />
                                            <!--</ScrollViewer>-->
                                            <ScrollBar x:Name="RowsVerticalScrollBar" Grid.Column="1" HorizontalAlignment="Right" Margin="0,3,3,3" Orientation="Vertical" Visibility="Collapsed" VerticalAlignment="Stretch" Width="11">
                                                <ScrollBar.Style>
                                                    <Style TargetType="{x:Type ScrollBar}">
                                                        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="False"/>
                                                        <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
                                                        <Setter Property="Background" Value="White"/>
                                                        <Setter Property="Foreground" Value="#FF333333"/>
                                                        <Setter Property="BorderThickness" Value="0"/>
                                                        <Setter Property="Width" Value="11"/>
                                                        <Setter Property="MinWidth" Value="0"/>
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="{x:Type ScrollBar}">
                                                                    <Grid Background="{TemplateBinding Background}">
                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition Height="Auto"/>
                                                                            <RowDefinition Height="*"/>
                                                                            <RowDefinition Height="Auto"/>
                                                                        </Grid.RowDefinitions>
                                                                        <Rectangle Fill="#FFEEEEEE" RadiusY="4" Grid.Row="1" RadiusX="6" Stretch="Fill" Stroke="Transparent" StrokeThickness="1"/>
                                                                        <Viewbox Stretch="Fill">
                                                                            <RepeatButton BorderThickness="0,0,0,2" Content="M 0 4 L 7 4 L 3.5 0 Z" Command="ScrollBar.LineUpCommand" Height="11" MinWidth="11">
                                                                                <RepeatButton.Style>
                                                                                    <Style TargetType="{x:Type RepeatButton}">
                                                                                        <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                        <Setter Property="Foreground" Value="#FF333333"/>
                                                                                        <Setter Property="BorderThickness" Value="0"/>
                                                                                        <Setter Property="MinWidth" Value="0"/>
                                                                                        <Setter Property="MinHeight" Value="0"/>
                                                                                        <Setter Property="IsTabStop" Value="False"/>
                                                                                        <Setter Property="Focusable" Value="False"/>
                                                                                        <Setter Property="Template">
                                                                                            <Setter.Value>
                                                                                                <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                    <Grid>
                                                                                                        <Ellipse x:Name="BackgroundMouseOver" Fill="#FFDDDDDD" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                        <Ellipse x:Name="BackgroundPressed" Fill="#FFEEEEEE" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                        <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Fill="{TemplateBinding Foreground}" HorizontalAlignment="Center" Margin="{TemplateBinding BorderThickness}" VerticalAlignment="Center"/>
                                                                                                        <Ellipse x:Name="DisabledElement" Fill="White" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Width="{TemplateBinding Width}"/>
                                                                                                    </Grid>
                                                                                                    <ControlTemplate.Triggers>
                                                                                                        <Trigger Property="IsPressed" Value="True">
                                                                                                            <Setter Property="Opacity" TargetName="BackgroundPressed" Value="1"/>
                                                                                                        </Trigger>
                                                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                                                            <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                        </Trigger>
                                                                                                        <Trigger Property="IsEnabled" Value="False">
                                                                                                            <Setter Property="Opacity" TargetName="DisabledElement" Value="0.7"/>
                                                                                                        </Trigger>
                                                                                                    </ControlTemplate.Triggers>
                                                                                                </ControlTemplate>
                                                                                            </Setter.Value>
                                                                                        </Setter>
                                                                                    </Style>
                                                                                </RepeatButton.Style>
                                                                            </RepeatButton>
                                                                        </Viewbox>
                                                                        <Track x:Name="PART_Track" IsDirectionReversed="True" Grid.Row="1">
                                                                            <Track.Resources>
                                                                                <System:Double x:Key="{x:Static SystemParameters.VerticalScrollBarButtonHeightKey}">50</System:Double>
                                                                            </Track.Resources>
                                                                            <Track.DecreaseRepeatButton>
                                                                                <RepeatButton Command="ScrollBar.PageUpCommand">
                                                                                    <RepeatButton.Style>
                                                                                        <Style TargetType="{x:Type RepeatButton}">
                                                                                            <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                            <Setter Property="IsTabStop" Value="False"/>
                                                                                            <Setter Property="Focusable" Value="False"/>
                                                                                            <Setter Property="MinWidth" Value="11"/>
                                                                                            <Setter Property="MinHeight" Value="11"/>
                                                                                            <Setter Property="Background">
                                                                                                <Setter.Value>
                                                                                                    <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                        <Rectangle x:Name="PageButtonBackground" Fill="{TemplateBinding Background}"/>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsPressed" Value="True">
                                                                                                                <Setter Property="Fill" TargetName="PageButtonBackground">
                                                                                                                    <Setter.Value>
                                                                                                                        <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                                    </Setter.Value>
                                                                                                                </Setter>
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </RepeatButton.Style>
                                                                                </RepeatButton>
                                                                            </Track.DecreaseRepeatButton>
                                                                            <Track.IncreaseRepeatButton>
                                                                                <RepeatButton Command="ScrollBar.PageDownCommand">
                                                                                    <RepeatButton.Style>
                                                                                        <Style TargetType="{x:Type RepeatButton}">
                                                                                            <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                            <Setter Property="IsTabStop" Value="False"/>
                                                                                            <Setter Property="Focusable" Value="False"/>
                                                                                            <Setter Property="MinWidth" Value="11"/>
                                                                                            <Setter Property="MinHeight" Value="11"/>
                                                                                            <Setter Property="Background">
                                                                                                <Setter.Value>
                                                                                                    <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                        <Rectangle x:Name="PageButtonBackground" Fill="{TemplateBinding Background}"/>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsPressed" Value="True">
                                                                                                                <Setter Property="Fill" TargetName="PageButtonBackground">
                                                                                                                    <Setter.Value>
                                                                                                                        <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                                    </Setter.Value>
                                                                                                                </Setter>
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </RepeatButton.Style>
                                                                                </RepeatButton>
                                                                            </Track.IncreaseRepeatButton>
                                                                            <Track.Thumb>
                                                                                <Thumb>
                                                                                    <Thumb.Style>
                                                                                        <Style TargetType="{x:Type Thumb}">
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type Thumb}">
                                                                                                        <Grid x:Name="ThumbVisual" Margin="0">
                                                                                                            <Grid x:Name="Background">
                                                                                                                <Rectangle RadiusY="4" RadiusX="6" Stroke="Black" StrokeThickness="1">
                                                                                                                    <Rectangle.Fill>
                                                                                                                        <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                                                                                                            <GradientStop Color="#FF666666" Offset="0"/>
                                                                                                                            <GradientStop Color="#FF666666" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="1"/>
                                                                                                                        </LinearGradientBrush>
                                                                                                                    </Rectangle.Fill>
                                                                                                                </Rectangle>
                                                                                                                <StackPanel x:Name="VerticalGrip" HorizontalAlignment="Center" Margin="1,5" VerticalAlignment="Center">
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                </StackPanel>
                                                                                                            </Grid>
                                                                                                            <Grid x:Name="BackgroundMouseOver" Opacity="0">
                                                                                                                <Rectangle RadiusY="4" RadiusX="6" Stroke="Black" StrokeThickness="1">
                                                                                                                    <Rectangle.Fill>
                                                                                                                        <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                                                                                                            <GradientStop Color="#FF888888" Offset="0"/>
                                                                                                                            <GradientStop Color="#FF888888" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="1"/>
                                                                                                                        </LinearGradientBrush>
                                                                                                                    </Rectangle.Fill>
                                                                                                                </Rectangle>
                                                                                                                <StackPanel HorizontalAlignment="Center" Margin="1,5" VerticalAlignment="Center">
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                </StackPanel>
                                                                                                            </Grid>
                                                                                                            <Grid x:Name="BackgroundPressed" Opacity="0">
                                                                                                                <Rectangle RadiusY="4" RadiusX="6" Stroke="#00000000" StrokeThickness="1">
                                                                                                                    <Rectangle.Fill>
                                                                                                                        <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                                                                                                            <GradientStop Color="#FFAAAAAA" Offset="0"/>
                                                                                                                            <GradientStop Color="#FFAAAAAA" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="1"/>
                                                                                                                        </LinearGradientBrush>
                                                                                                                    </Rectangle.Fill>
                                                                                                                </Rectangle>
                                                                                                                <StackPanel HorizontalAlignment="Center" Margin="1,5" VerticalAlignment="Center">
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                </StackPanel>
                                                                                                            </Grid>
                                                                                                        </Grid>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                                                                <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                            </Trigger>
                                                                                                            <Trigger Property="IsEnabled" Value="False">
                                                                                                                <Setter Property="Opacity" TargetName="ThumbVisual" Value="0"/>
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </Thumb.Style>
                                                                                </Thumb>
                                                                            </Track.Thumb>
                                                                        </Track>
                                                                        <Viewbox Grid.Row="2" Stretch="Fill">
                                                                            <RepeatButton BorderThickness="0,2,0,0" Content="M 0 0 L 3.5 4 L 7 0 Z" Command="ScrollBar.LineDownCommand" Height="11" MinWidth="11">
                                                                                <RepeatButton.Style>
                                                                                    <Style TargetType="{x:Type RepeatButton}">
                                                                                        <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                        <Setter Property="Foreground" Value="#FF333333"/>
                                                                                        <Setter Property="BorderThickness" Value="0"/>
                                                                                        <Setter Property="MinWidth" Value="0"/>
                                                                                        <Setter Property="MinHeight" Value="0"/>
                                                                                        <Setter Property="IsTabStop" Value="False"/>
                                                                                        <Setter Property="Focusable" Value="False"/>
                                                                                        <Setter Property="Template">
                                                                                            <Setter.Value>
                                                                                                <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                    <Grid>
                                                                                                        <Ellipse x:Name="BackgroundMouseOver" Fill="#FFDDDDDD" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                        <Ellipse x:Name="BackgroundPressed" Fill="#FFEEEEEE" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                        <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Fill="{TemplateBinding Foreground}" HorizontalAlignment="Center" Margin="{TemplateBinding BorderThickness}" VerticalAlignment="Center"/>
                                                                                                        <Ellipse x:Name="DisabledElement" Fill="White" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Width="{TemplateBinding Width}"/>
                                                                                                    </Grid>
                                                                                                    <ControlTemplate.Triggers>
                                                                                                        <Trigger Property="IsPressed" Value="True">
                                                                                                            <Setter Property="Opacity" TargetName="BackgroundPressed" Value="1"/>
                                                                                                        </Trigger>
                                                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                                                            <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                        </Trigger>
                                                                                                        <Trigger Property="IsEnabled" Value="False">
                                                                                                            <Setter Property="Opacity" TargetName="DisabledElement" Value="0.7"/>
                                                                                                        </Trigger>
                                                                                                    </ControlTemplate.Triggers>
                                                                                                </ControlTemplate>
                                                                                            </Setter.Value>
                                                                                        </Setter>
                                                                                    </Style>
                                                                                </RepeatButton.Style>
                                                                            </RepeatButton>
                                                                        </Viewbox>
                                                                    </Grid>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Style.Triggers>
                                                            <Trigger Property="Orientation" Value="Horizontal">
                                                                <Setter Property="Width" Value="Auto"/>
                                                                <Setter Property="MinWidth" Value="0"/>
                                                                <Setter Property="Height" Value="11"/>
                                                                <Setter Property="MinHeight" Value="11"/>
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type ScrollBar}">
                                                                            <Grid Background="{TemplateBinding Background}">
                                                                                <Grid.ColumnDefinitions>
                                                                                    <ColumnDefinition Width="Auto"/>
                                                                                    <ColumnDefinition Width="*"/>
                                                                                    <ColumnDefinition Width="Auto"/>
                                                                                </Grid.ColumnDefinitions>
                                                                                <Rectangle Grid.Column="1" Fill="#FFEEEEEE" RadiusY="6" RadiusX="4" Stretch="Fill" Stroke="Transparent" StrokeThickness="1"/>
                                                                                <Viewbox Stretch="Fill">
                                                                                    <RepeatButton BorderThickness="0,0,2,0" Content="M 0 4 L 4 8 L 4 0 Z" Command="ScrollBar.LineLeftCommand" MinHeight="11" Width="11">
                                                                                        <RepeatButton.Style>
                                                                                            <Style TargetType="{x:Type RepeatButton}">
                                                                                                <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                                <Setter Property="Foreground" Value="#FF333333"/>
                                                                                                <Setter Property="BorderThickness" Value="0"/>
                                                                                                <Setter Property="MinWidth" Value="0"/>
                                                                                                <Setter Property="MinHeight" Value="0"/>
                                                                                                <Setter Property="IsTabStop" Value="False"/>
                                                                                                <Setter Property="Focusable" Value="False"/>
                                                                                                <Setter Property="Template">
                                                                                                    <Setter.Value>
                                                                                                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                            <Grid>
                                                                                                                <Ellipse x:Name="BackgroundMouseOver" Fill="#FFDDDDDD" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                                <Ellipse x:Name="BackgroundPressed" Fill="#FFEEEEEE" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                                <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Fill="{TemplateBinding Foreground}" HorizontalAlignment="Center" Margin="{TemplateBinding BorderThickness}" VerticalAlignment="Center"/>
                                                                                                                <Ellipse x:Name="DisabledElement" Fill="White" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Width="{TemplateBinding Width}"/>
                                                                                                            </Grid>
                                                                                                            <ControlTemplate.Triggers>
                                                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                                                    <Setter Property="Opacity" TargetName="BackgroundPressed" Value="1"/>
                                                                                                                </Trigger>
                                                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                                                    <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                                </Trigger>
                                                                                                                <Trigger Property="IsEnabled" Value="False">
                                                                                                                    <Setter Property="Opacity" TargetName="DisabledElement" Value="0.7"/>
                                                                                                                </Trigger>
                                                                                                            </ControlTemplate.Triggers>
                                                                                                        </ControlTemplate>
                                                                                                    </Setter.Value>
                                                                                                </Setter>
                                                                                            </Style>
                                                                                        </RepeatButton.Style>
                                                                                    </RepeatButton>
                                                                                </Viewbox>
                                                                                <Track x:Name="PART_Track" Grid.Column="1">
                                                                                    <Track.Resources>
                                                                                        <System:Double x:Key="{x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}">50</System:Double>
                                                                                    </Track.Resources>
                                                                                    <Track.DecreaseRepeatButton>
                                                                                        <RepeatButton Command="ScrollBar.PageLeftCommand">
                                                                                            <RepeatButton.Style>
                                                                                                <Style TargetType="{x:Type RepeatButton}">
                                                                                                    <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                                    <Setter Property="IsTabStop" Value="False"/>
                                                                                                    <Setter Property="Focusable" Value="False"/>
                                                                                                    <Setter Property="MinWidth" Value="11"/>
                                                                                                    <Setter Property="MinHeight" Value="11"/>
                                                                                                    <Setter Property="Background">
                                                                                                        <Setter.Value>
                                                                                                            <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                    <Setter Property="Template">
                                                                                                        <Setter.Value>
                                                                                                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                                <Rectangle x:Name="PageButtonBackground" Fill="{TemplateBinding Background}"/>
                                                                                                                <ControlTemplate.Triggers>
                                                                                                                    <Trigger Property="IsPressed" Value="True">
                                                                                                                        <Setter Property="Fill" TargetName="PageButtonBackground">
                                                                                                                            <Setter.Value>
                                                                                                                                <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                                            </Setter.Value>
                                                                                                                        </Setter>
                                                                                                                    </Trigger>
                                                                                                                </ControlTemplate.Triggers>
                                                                                                            </ControlTemplate>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                </Style>
                                                                                            </RepeatButton.Style>
                                                                                        </RepeatButton>
                                                                                    </Track.DecreaseRepeatButton>
                                                                                    <Track.IncreaseRepeatButton>
                                                                                        <RepeatButton Command="ScrollBar.PageRightCommand">
                                                                                            <RepeatButton.Style>
                                                                                                <Style TargetType="{x:Type RepeatButton}">
                                                                                                    <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                                    <Setter Property="IsTabStop" Value="False"/>
                                                                                                    <Setter Property="Focusable" Value="False"/>
                                                                                                    <Setter Property="MinWidth" Value="11"/>
                                                                                                    <Setter Property="MinHeight" Value="11"/>
                                                                                                    <Setter Property="Background">
                                                                                                        <Setter.Value>
                                                                                                            <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                    <Setter Property="Template">
                                                                                                        <Setter.Value>
                                                                                                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                                <Rectangle x:Name="PageButtonBackground" Fill="{TemplateBinding Background}"/>
                                                                                                                <ControlTemplate.Triggers>
                                                                                                                    <Trigger Property="IsPressed" Value="True">
                                                                                                                        <Setter Property="Fill" TargetName="PageButtonBackground">
                                                                                                                            <Setter.Value>
                                                                                                                                <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                                            </Setter.Value>
                                                                                                                        </Setter>
                                                                                                                    </Trigger>
                                                                                                                </ControlTemplate.Triggers>
                                                                                                            </ControlTemplate>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                </Style>
                                                                                            </RepeatButton.Style>
                                                                                        </RepeatButton>
                                                                                    </Track.IncreaseRepeatButton>
                                                                                    <Track.Thumb>
                                                                                        <Thumb>
                                                                                            <Thumb.Style>
                                                                                                <Style TargetType="{x:Type Thumb}">
                                                                                                    <Setter Property="Template">
                                                                                                        <Setter.Value>
                                                                                                            <ControlTemplate TargetType="{x:Type Thumb}">
                                                                                                                <Grid x:Name="ThumbVisual">
                                                                                                                    <Grid x:Name="Background">
                                                                                                                        <Rectangle RadiusY="4" RadiusX="6" Stroke="Black" StrokeThickness="1">
                                                                                                                            <Rectangle.Fill>
                                                                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                                                                    <GradientStop Color="#FF666666" Offset="0"/>
                                                                                                                                    <GradientStop Color="#FF666666" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="1"/>
                                                                                                                                </LinearGradientBrush>
                                                                                                                            </Rectangle.Fill>
                                                                                                                        </Rectangle>
                                                                                                                        <StackPanel HorizontalAlignment="Center" Margin="5,1" Orientation="Horizontal" VerticalAlignment="Center">
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                        </StackPanel>
                                                                                                                    </Grid>
                                                                                                                    <Grid x:Name="BackgroundMouseOver" Opacity="0">
                                                                                                                        <Rectangle RadiusY="4" RadiusX="6" Stroke="#00000000" StrokeThickness="1">
                                                                                                                            <Rectangle.Fill>
                                                                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                                                                    <GradientStop Color="#FF888888" Offset="0"/>
                                                                                                                                    <GradientStop Color="#FF888888" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="1"/>
                                                                                                                                </LinearGradientBrush>
                                                                                                                            </Rectangle.Fill>
                                                                                                                        </Rectangle>
                                                                                                                        <StackPanel HorizontalAlignment="Center" Margin="5,1" Orientation="Horizontal" VerticalAlignment="Center">
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                        </StackPanel>
                                                                                                                    </Grid>
                                                                                                                    <Grid x:Name="BackgroundPressed" Opacity="0">
                                                                                                                        <Rectangle RadiusY="4" RadiusX="6" Stroke="#00000000" StrokeThickness="1">
                                                                                                                            <Rectangle.Fill>
                                                                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                                                                    <GradientStop Color="#FFAAAAAA" Offset="0"/>
                                                                                                                                    <GradientStop Color="#FFAAAAAA" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="1"/>
                                                                                                                                </LinearGradientBrush>
                                                                                                                            </Rectangle.Fill>
                                                                                                                        </Rectangle>
                                                                                                                        <StackPanel HorizontalAlignment="Center" Margin="5,1" Orientation="Horizontal" VerticalAlignment="Center">
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                        </StackPanel>
                                                                                                                    </Grid>
                                                                                                                </Grid>
                                                                                                                <ControlTemplate.Triggers>
                                                                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                                                                        <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                                    </Trigger>
                                                                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                                                                        <Setter Property="Opacity" TargetName="ThumbVisual" Value="0"/>
                                                                                                                    </Trigger>
                                                                                                                </ControlTemplate.Triggers>
                                                                                                            </ControlTemplate>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                </Style>
                                                                                            </Thumb.Style>
                                                                                        </Thumb>
                                                                                    </Track.Thumb>
                                                                                </Track>
                                                                                <Viewbox Grid.Column="2" Stretch="Fill">
                                                                                    <RepeatButton BorderThickness="2,0,0,0" Content="M 0 0 L 0 8 L 4 4 Z" Command="ScrollBar.LineRightCommand" MinHeight="11" Width="11">
                                                                                        <RepeatButton.Style>
                                                                                            <Style TargetType="{x:Type RepeatButton}">
                                                                                                <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                                <Setter Property="Foreground" Value="#FF333333"/>
                                                                                                <Setter Property="BorderThickness" Value="0"/>
                                                                                                <Setter Property="MinWidth" Value="0"/>
                                                                                                <Setter Property="MinHeight" Value="0"/>
                                                                                                <Setter Property="IsTabStop" Value="False"/>
                                                                                                <Setter Property="Focusable" Value="False"/>
                                                                                                <Setter Property="Template">
                                                                                                    <Setter.Value>
                                                                                                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                            <Grid>
                                                                                                                <Ellipse x:Name="BackgroundMouseOver" Fill="#FFDDDDDD" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                                <Ellipse x:Name="BackgroundPressed" Fill="#FFEEEEEE" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                                <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Fill="{TemplateBinding Foreground}" HorizontalAlignment="Center" Margin="{TemplateBinding BorderThickness}" VerticalAlignment="Center"/>
                                                                                                                <Ellipse x:Name="DisabledElement" Fill="White" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Width="{TemplateBinding Width}"/>
                                                                                                            </Grid>
                                                                                                            <ControlTemplate.Triggers>
                                                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                                                    <Setter Property="Opacity" TargetName="BackgroundPressed" Value="1"/>
                                                                                                                </Trigger>
                                                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                                                    <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                                </Trigger>
                                                                                                                <Trigger Property="IsEnabled" Value="False">
                                                                                                                    <Setter Property="Opacity" TargetName="DisabledElement" Value="0.7"/>
                                                                                                                </Trigger>
                                                                                                            </ControlTemplate.Triggers>
                                                                                                        </ControlTemplate>
                                                                                                    </Setter.Value>
                                                                                                </Setter>
                                                                                            </Style>
                                                                                        </RepeatButton.Style>
                                                                                    </RepeatButton>
                                                                                </Viewbox>
                                                                            </Grid>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ScrollBar.Style>
                                            </ScrollBar>
                                            <ScrollBar x:Name="RowsHorizontalScrollBar" HorizontalAlignment="Stretch" Height="11" Margin="3,0,3,3" Orientation="Horizontal" Grid.Row="1" Visibility="Collapsed" VerticalAlignment="Bottom">
                                                <ScrollBar.Style>
                                                    <Style TargetType="{x:Type ScrollBar}">
                                                        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="False"/>
                                                        <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
                                                        <Setter Property="Background" Value="White"/>
                                                        <Setter Property="Foreground" Value="#FF333333"/>
                                                        <Setter Property="BorderThickness" Value="0"/>
                                                        <Setter Property="Width" Value="11"/>
                                                        <Setter Property="MinWidth" Value="0"/>
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="{x:Type ScrollBar}">
                                                                    <Grid Background="{TemplateBinding Background}">
                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition Height="Auto"/>
                                                                            <RowDefinition Height="*"/>
                                                                            <RowDefinition Height="Auto"/>
                                                                        </Grid.RowDefinitions>
                                                                        <Rectangle Fill="#FFEEEEEE" RadiusY="4" Grid.Row="1" RadiusX="6" Stretch="Fill" Stroke="Transparent" StrokeThickness="1"/>
                                                                        <Viewbox Stretch="Fill">
                                                                            <RepeatButton BorderThickness="0,0,0,2" Content="M 0 4 L 7 4 L 3.5 0 Z" Command="ScrollBar.LineUpCommand" Height="11" MinWidth="11">
                                                                                <RepeatButton.Style>
                                                                                    <Style TargetType="{x:Type RepeatButton}">
                                                                                        <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                        <Setter Property="Foreground" Value="#FF333333"/>
                                                                                        <Setter Property="BorderThickness" Value="0"/>
                                                                                        <Setter Property="MinWidth" Value="0"/>
                                                                                        <Setter Property="MinHeight" Value="0"/>
                                                                                        <Setter Property="IsTabStop" Value="False"/>
                                                                                        <Setter Property="Focusable" Value="False"/>
                                                                                        <Setter Property="Template">
                                                                                            <Setter.Value>
                                                                                                <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                    <Grid>
                                                                                                        <Ellipse x:Name="BackgroundMouseOver" Fill="#FFDDDDDD" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                        <Ellipse x:Name="BackgroundPressed" Fill="#FFEEEEEE" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                        <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Fill="{TemplateBinding Foreground}" HorizontalAlignment="Center" Margin="{TemplateBinding BorderThickness}" VerticalAlignment="Center"/>
                                                                                                        <Ellipse x:Name="DisabledElement" Fill="White" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Width="{TemplateBinding Width}"/>
                                                                                                    </Grid>
                                                                                                    <ControlTemplate.Triggers>
                                                                                                        <Trigger Property="IsPressed" Value="True">
                                                                                                            <Setter Property="Opacity" TargetName="BackgroundPressed" Value="1"/>
                                                                                                        </Trigger>
                                                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                                                            <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                        </Trigger>
                                                                                                        <Trigger Property="IsEnabled" Value="False">
                                                                                                            <Setter Property="Opacity" TargetName="DisabledElement" Value="0.7"/>
                                                                                                        </Trigger>
                                                                                                    </ControlTemplate.Triggers>
                                                                                                </ControlTemplate>
                                                                                            </Setter.Value>
                                                                                        </Setter>
                                                                                    </Style>
                                                                                </RepeatButton.Style>
                                                                            </RepeatButton>
                                                                        </Viewbox>
                                                                        <Track x:Name="PART_Track" IsDirectionReversed="True" Grid.Row="1">
                                                                            <Track.Resources>
                                                                                <System:Double x:Key="{x:Static SystemParameters.VerticalScrollBarButtonHeightKey}">50</System:Double>
                                                                            </Track.Resources>
                                                                            <Track.DecreaseRepeatButton>
                                                                                <RepeatButton Command="ScrollBar.PageUpCommand">
                                                                                    <RepeatButton.Style>
                                                                                        <Style TargetType="{x:Type RepeatButton}">
                                                                                            <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                            <Setter Property="IsTabStop" Value="False"/>
                                                                                            <Setter Property="Focusable" Value="False"/>
                                                                                            <Setter Property="MinWidth" Value="11"/>
                                                                                            <Setter Property="MinHeight" Value="11"/>
                                                                                            <Setter Property="Background">
                                                                                                <Setter.Value>
                                                                                                    <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                        <Rectangle x:Name="PageButtonBackground" Fill="{TemplateBinding Background}"/>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsPressed" Value="True">
                                                                                                                <Setter Property="Fill" TargetName="PageButtonBackground">
                                                                                                                    <Setter.Value>
                                                                                                                        <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                                    </Setter.Value>
                                                                                                                </Setter>
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </RepeatButton.Style>
                                                                                </RepeatButton>
                                                                            </Track.DecreaseRepeatButton>
                                                                            <Track.IncreaseRepeatButton>
                                                                                <RepeatButton Command="ScrollBar.PageDownCommand">
                                                                                    <RepeatButton.Style>
                                                                                        <Style TargetType="{x:Type RepeatButton}">
                                                                                            <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                            <Setter Property="IsTabStop" Value="False"/>
                                                                                            <Setter Property="Focusable" Value="False"/>
                                                                                            <Setter Property="MinWidth" Value="11"/>
                                                                                            <Setter Property="MinHeight" Value="11"/>
                                                                                            <Setter Property="Background">
                                                                                                <Setter.Value>
                                                                                                    <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                        <Rectangle x:Name="PageButtonBackground" Fill="{TemplateBinding Background}"/>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsPressed" Value="True">
                                                                                                                <Setter Property="Fill" TargetName="PageButtonBackground">
                                                                                                                    <Setter.Value>
                                                                                                                        <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                                    </Setter.Value>
                                                                                                                </Setter>
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </RepeatButton.Style>
                                                                                </RepeatButton>
                                                                            </Track.IncreaseRepeatButton>
                                                                            <Track.Thumb>
                                                                                <Thumb>
                                                                                    <Thumb.Style>
                                                                                        <Style TargetType="{x:Type Thumb}">
                                                                                            <Setter Property="Template">
                                                                                                <Setter.Value>
                                                                                                    <ControlTemplate TargetType="{x:Type Thumb}">
                                                                                                        <Grid x:Name="ThumbVisual" Margin="0">
                                                                                                            <Grid x:Name="Background">
                                                                                                                <Rectangle RadiusY="4" RadiusX="6" Stroke="Black" StrokeThickness="1">
                                                                                                                    <Rectangle.Fill>
                                                                                                                        <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                                                                                                            <GradientStop Color="#FF666666" Offset="0"/>
                                                                                                                            <GradientStop Color="#FF666666" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="1"/>
                                                                                                                        </LinearGradientBrush>
                                                                                                                    </Rectangle.Fill>
                                                                                                                </Rectangle>
                                                                                                                <StackPanel x:Name="VerticalGrip" HorizontalAlignment="Center" Margin="1,5" VerticalAlignment="Center">
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF666666" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                </StackPanel>
                                                                                                            </Grid>
                                                                                                            <Grid x:Name="BackgroundMouseOver" Opacity="0">
                                                                                                                <Rectangle RadiusY="4" RadiusX="6" Stroke="Black" StrokeThickness="1">
                                                                                                                    <Rectangle.Fill>
                                                                                                                        <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                                                                                                            <GradientStop Color="#FF888888" Offset="0"/>
                                                                                                                            <GradientStop Color="#FF888888" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="1"/>
                                                                                                                        </LinearGradientBrush>
                                                                                                                    </Rectangle.Fill>
                                                                                                                </Rectangle>
                                                                                                                <StackPanel HorizontalAlignment="Center" Margin="1,5" VerticalAlignment="Center">
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FF888888" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                </StackPanel>
                                                                                                            </Grid>
                                                                                                            <Grid x:Name="BackgroundPressed" Opacity="0">
                                                                                                                <Rectangle RadiusY="4" RadiusX="6" Stroke="#00000000" StrokeThickness="1">
                                                                                                                    <Rectangle.Fill>
                                                                                                                        <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                                                                                                            <GradientStop Color="#FFAAAAAA" Offset="0"/>
                                                                                                                            <GradientStop Color="#FFAAAAAA" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                            <GradientStop Color="Black" Offset="1"/>
                                                                                                                        </LinearGradientBrush>
                                                                                                                    </Rectangle.Fill>
                                                                                                                </Rectangle>
                                                                                                                <StackPanel HorizontalAlignment="Center" Margin="1,5" VerticalAlignment="Center">
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,1,1,0" Stretch="Fill" Stroke="Black" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                    <Line Margin="1,0" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="2" Y1="0" Y2="0"/>
                                                                                                                </StackPanel>
                                                                                                            </Grid>
                                                                                                        </Grid>
                                                                                                        <ControlTemplate.Triggers>
                                                                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                                                                <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                            </Trigger>
                                                                                                            <Trigger Property="IsEnabled" Value="False">
                                                                                                                <Setter Property="Opacity" TargetName="ThumbVisual" Value="0"/>
                                                                                                            </Trigger>
                                                                                                        </ControlTemplate.Triggers>
                                                                                                    </ControlTemplate>
                                                                                                </Setter.Value>
                                                                                            </Setter>
                                                                                        </Style>
                                                                                    </Thumb.Style>
                                                                                </Thumb>
                                                                            </Track.Thumb>
                                                                        </Track>
                                                                        <Viewbox Grid.Row="2" Stretch="Fill">
                                                                            <RepeatButton BorderThickness="0,2,0,0" Content="M 0 0 L 3.5 4 L 7 0 Z" Command="ScrollBar.LineDownCommand" Height="11" MinWidth="11">
                                                                                <RepeatButton.Style>
                                                                                    <Style TargetType="{x:Type RepeatButton}">
                                                                                        <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                        <Setter Property="Foreground" Value="#FF333333"/>
                                                                                        <Setter Property="BorderThickness" Value="0"/>
                                                                                        <Setter Property="MinWidth" Value="0"/>
                                                                                        <Setter Property="MinHeight" Value="0"/>
                                                                                        <Setter Property="IsTabStop" Value="False"/>
                                                                                        <Setter Property="Focusable" Value="False"/>
                                                                                        <Setter Property="Template">
                                                                                            <Setter.Value>
                                                                                                <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                    <Grid>
                                                                                                        <Ellipse x:Name="BackgroundMouseOver" Fill="#FFDDDDDD" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                        <Ellipse x:Name="BackgroundPressed" Fill="#FFEEEEEE" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                        <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Fill="{TemplateBinding Foreground}" HorizontalAlignment="Center" Margin="{TemplateBinding BorderThickness}" VerticalAlignment="Center"/>
                                                                                                        <Ellipse x:Name="DisabledElement" Fill="White" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Width="{TemplateBinding Width}"/>
                                                                                                    </Grid>
                                                                                                    <ControlTemplate.Triggers>
                                                                                                        <Trigger Property="IsPressed" Value="True">
                                                                                                            <Setter Property="Opacity" TargetName="BackgroundPressed" Value="1"/>
                                                                                                        </Trigger>
                                                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                                                            <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                        </Trigger>
                                                                                                        <Trigger Property="IsEnabled" Value="False">
                                                                                                            <Setter Property="Opacity" TargetName="DisabledElement" Value="0.7"/>
                                                                                                        </Trigger>
                                                                                                    </ControlTemplate.Triggers>
                                                                                                </ControlTemplate>
                                                                                            </Setter.Value>
                                                                                        </Setter>
                                                                                    </Style>
                                                                                </RepeatButton.Style>
                                                                            </RepeatButton>
                                                                        </Viewbox>
                                                                    </Grid>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Style.Triggers>
                                                            <Trigger Property="Orientation" Value="Horizontal">
                                                                <Setter Property="Width" Value="Auto"/>
                                                                <Setter Property="MinWidth" Value="0"/>
                                                                <Setter Property="Height" Value="11"/>
                                                                <Setter Property="MinHeight" Value="11"/>
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type ScrollBar}">
                                                                            <Grid Background="{TemplateBinding Background}">
                                                                                <Grid.ColumnDefinitions>
                                                                                    <ColumnDefinition Width="Auto"/>
                                                                                    <ColumnDefinition Width="*"/>
                                                                                    <ColumnDefinition Width="Auto"/>
                                                                                </Grid.ColumnDefinitions>
                                                                                <Rectangle Grid.Column="1" Fill="#FFEEEEEE" RadiusY="6" RadiusX="4" Stretch="Fill" Stroke="Transparent" StrokeThickness="1"/>
                                                                                <Viewbox Stretch="Fill">
                                                                                    <RepeatButton BorderThickness="0,0,2,0" Content="M 0 4 L 4 8 L 4 0 Z" Command="ScrollBar.LineLeftCommand" MinHeight="11" Width="11">
                                                                                        <RepeatButton.Style>
                                                                                            <Style TargetType="{x:Type RepeatButton}">
                                                                                                <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                                <Setter Property="Foreground" Value="#FF333333"/>
                                                                                                <Setter Property="BorderThickness" Value="0"/>
                                                                                                <Setter Property="MinWidth" Value="0"/>
                                                                                                <Setter Property="MinHeight" Value="0"/>
                                                                                                <Setter Property="IsTabStop" Value="False"/>
                                                                                                <Setter Property="Focusable" Value="False"/>
                                                                                                <Setter Property="Template">
                                                                                                    <Setter.Value>
                                                                                                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                            <Grid>
                                                                                                                <Ellipse x:Name="BackgroundMouseOver" Fill="#FFDDDDDD" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                                <Ellipse x:Name="BackgroundPressed" Fill="#FFEEEEEE" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                                <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Fill="{TemplateBinding Foreground}" HorizontalAlignment="Center" Margin="{TemplateBinding BorderThickness}" VerticalAlignment="Center"/>
                                                                                                                <Ellipse x:Name="DisabledElement" Fill="White" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Width="{TemplateBinding Width}"/>
                                                                                                            </Grid>
                                                                                                            <ControlTemplate.Triggers>
                                                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                                                    <Setter Property="Opacity" TargetName="BackgroundPressed" Value="1"/>
                                                                                                                </Trigger>
                                                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                                                    <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                                </Trigger>
                                                                                                                <Trigger Property="IsEnabled" Value="False">
                                                                                                                    <Setter Property="Opacity" TargetName="DisabledElement" Value="0.7"/>
                                                                                                                </Trigger>
                                                                                                            </ControlTemplate.Triggers>
                                                                                                        </ControlTemplate>
                                                                                                    </Setter.Value>
                                                                                                </Setter>
                                                                                            </Style>
                                                                                        </RepeatButton.Style>
                                                                                    </RepeatButton>
                                                                                </Viewbox>
                                                                                <Track x:Name="PART_Track" Grid.Column="1">
                                                                                    <Track.Resources>
                                                                                        <System:Double x:Key="{x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}">50</System:Double>
                                                                                    </Track.Resources>
                                                                                    <Track.DecreaseRepeatButton>
                                                                                        <RepeatButton Command="ScrollBar.PageLeftCommand">
                                                                                            <RepeatButton.Style>
                                                                                                <Style TargetType="{x:Type RepeatButton}">
                                                                                                    <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                                    <Setter Property="IsTabStop" Value="False"/>
                                                                                                    <Setter Property="Focusable" Value="False"/>
                                                                                                    <Setter Property="MinWidth" Value="11"/>
                                                                                                    <Setter Property="MinHeight" Value="11"/>
                                                                                                    <Setter Property="Background">
                                                                                                        <Setter.Value>
                                                                                                            <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                    <Setter Property="Template">
                                                                                                        <Setter.Value>
                                                                                                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                                <Rectangle x:Name="PageButtonBackground" Fill="{TemplateBinding Background}"/>
                                                                                                                <ControlTemplate.Triggers>
                                                                                                                    <Trigger Property="IsPressed" Value="True">
                                                                                                                        <Setter Property="Fill" TargetName="PageButtonBackground">
                                                                                                                            <Setter.Value>
                                                                                                                                <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                                            </Setter.Value>
                                                                                                                        </Setter>
                                                                                                                    </Trigger>
                                                                                                                </ControlTemplate.Triggers>
                                                                                                            </ControlTemplate>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                </Style>
                                                                                            </RepeatButton.Style>
                                                                                        </RepeatButton>
                                                                                    </Track.DecreaseRepeatButton>
                                                                                    <Track.IncreaseRepeatButton>
                                                                                        <RepeatButton Command="ScrollBar.PageRightCommand">
                                                                                            <RepeatButton.Style>
                                                                                                <Style TargetType="{x:Type RepeatButton}">
                                                                                                    <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                                    <Setter Property="IsTabStop" Value="False"/>
                                                                                                    <Setter Property="Focusable" Value="False"/>
                                                                                                    <Setter Property="MinWidth" Value="11"/>
                                                                                                    <Setter Property="MinHeight" Value="11"/>
                                                                                                    <Setter Property="Background">
                                                                                                        <Setter.Value>
                                                                                                            <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                    <Setter Property="Template">
                                                                                                        <Setter.Value>
                                                                                                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                                <Rectangle x:Name="PageButtonBackground" Fill="{TemplateBinding Background}"/>
                                                                                                                <ControlTemplate.Triggers>
                                                                                                                    <Trigger Property="IsPressed" Value="True">
                                                                                                                        <Setter Property="Fill" TargetName="PageButtonBackground">
                                                                                                                            <Setter.Value>
                                                                                                                                <SolidColorBrush Color="White" Opacity="1"/>
                                                                                                                            </Setter.Value>
                                                                                                                        </Setter>
                                                                                                                    </Trigger>
                                                                                                                </ControlTemplate.Triggers>
                                                                                                            </ControlTemplate>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                </Style>
                                                                                            </RepeatButton.Style>
                                                                                        </RepeatButton>
                                                                                    </Track.IncreaseRepeatButton>
                                                                                    <Track.Thumb>
                                                                                        <Thumb>
                                                                                            <Thumb.Style>
                                                                                                <Style TargetType="{x:Type Thumb}">
                                                                                                    <Setter Property="Template">
                                                                                                        <Setter.Value>
                                                                                                            <ControlTemplate TargetType="{x:Type Thumb}">
                                                                                                                <Grid x:Name="ThumbVisual">
                                                                                                                    <Grid x:Name="Background">
                                                                                                                        <Rectangle RadiusY="4" RadiusX="6" Stroke="Black" StrokeThickness="1">
                                                                                                                            <Rectangle.Fill>
                                                                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                                                                    <GradientStop Color="#FF666666" Offset="0"/>
                                                                                                                                    <GradientStop Color="#FF666666" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="1"/>
                                                                                                                                </LinearGradientBrush>
                                                                                                                            </Rectangle.Fill>
                                                                                                                        </Rectangle>
                                                                                                                        <StackPanel HorizontalAlignment="Center" Margin="5,1" Orientation="Horizontal" VerticalAlignment="Center">
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF666666" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                        </StackPanel>
                                                                                                                    </Grid>
                                                                                                                    <Grid x:Name="BackgroundMouseOver" Opacity="0">
                                                                                                                        <Rectangle RadiusY="4" RadiusX="6" Stroke="#00000000" StrokeThickness="1">
                                                                                                                            <Rectangle.Fill>
                                                                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                                                                    <GradientStop Color="#FF888888" Offset="0"/>
                                                                                                                                    <GradientStop Color="#FF888888" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="1"/>
                                                                                                                                </LinearGradientBrush>
                                                                                                                            </Rectangle.Fill>
                                                                                                                        </Rectangle>
                                                                                                                        <StackPanel HorizontalAlignment="Center" Margin="5,1" Orientation="Horizontal" VerticalAlignment="Center">
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FF888888" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                        </StackPanel>
                                                                                                                    </Grid>
                                                                                                                    <Grid x:Name="BackgroundPressed" Opacity="0">
                                                                                                                        <Rectangle RadiusY="4" RadiusX="6" Stroke="#00000000" StrokeThickness="1">
                                                                                                                            <Rectangle.Fill>
                                                                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                                                                    <GradientStop Color="#FFAAAAAA" Offset="0"/>
                                                                                                                                    <GradientStop Color="#FFAAAAAA" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="0.5"/>
                                                                                                                                    <GradientStop Color="Black" Offset="1"/>
                                                                                                                                </LinearGradientBrush>
                                                                                                                            </Rectangle.Fill>
                                                                                                                        </Rectangle>
                                                                                                                        <StackPanel HorizontalAlignment="Center" Margin="5,1" Orientation="Horizontal" VerticalAlignment="Center">
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="1,1,0,1" Stretch="Fill" Stroke="Black" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                            <Line Margin="0,1" Stretch="Fill" Stroke="#FFAAAAAA" X1="0" X2="0" Y1="0" Y2="2"/>
                                                                                                                        </StackPanel>
                                                                                                                    </Grid>
                                                                                                                </Grid>
                                                                                                                <ControlTemplate.Triggers>
                                                                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                                                                        <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                                    </Trigger>
                                                                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                                                                        <Setter Property="Opacity" TargetName="ThumbVisual" Value="0"/>
                                                                                                                    </Trigger>
                                                                                                                </ControlTemplate.Triggers>
                                                                                                            </ControlTemplate>
                                                                                                        </Setter.Value>
                                                                                                    </Setter>
                                                                                                </Style>
                                                                                            </Thumb.Style>
                                                                                        </Thumb>
                                                                                    </Track.Thumb>
                                                                                </Track>
                                                                                <Viewbox Grid.Column="2" Stretch="Fill">
                                                                                    <RepeatButton BorderThickness="2,0,0,0" Content="M 0 0 L 0 8 L 4 4 Z" Command="ScrollBar.LineRightCommand" MinHeight="11" Width="11">
                                                                                        <RepeatButton.Style>
                                                                                            <Style TargetType="{x:Type RepeatButton}">
                                                                                                <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                                                                <Setter Property="Foreground" Value="#FF333333"/>
                                                                                                <Setter Property="BorderThickness" Value="0"/>
                                                                                                <Setter Property="MinWidth" Value="0"/>
                                                                                                <Setter Property="MinHeight" Value="0"/>
                                                                                                <Setter Property="IsTabStop" Value="False"/>
                                                                                                <Setter Property="Focusable" Value="False"/>
                                                                                                <Setter Property="Template">
                                                                                                    <Setter.Value>
                                                                                                        <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                            <Grid>
                                                                                                                <Ellipse x:Name="BackgroundMouseOver" Fill="#FFDDDDDD" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                                <Ellipse x:Name="BackgroundPressed" Fill="#FFEEEEEE" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Stroke="Black" StrokeThickness="1" Width="{TemplateBinding Width}"/>
                                                                                                                <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Fill="{TemplateBinding Foreground}" HorizontalAlignment="Center" Margin="{TemplateBinding BorderThickness}" VerticalAlignment="Center"/>
                                                                                                                <Ellipse x:Name="DisabledElement" Fill="White" Height="{TemplateBinding Height}" Opacity="0" Stretch="Uniform" Width="{TemplateBinding Width}"/>
                                                                                                            </Grid>
                                                                                                            <ControlTemplate.Triggers>
                                                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                                                    <Setter Property="Opacity" TargetName="BackgroundPressed" Value="1"/>
                                                                                                                </Trigger>
                                                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                                                    <Setter Property="Opacity" TargetName="BackgroundMouseOver" Value="1"/>
                                                                                                                </Trigger>
                                                                                                                <Trigger Property="IsEnabled" Value="False">
                                                                                                                    <Setter Property="Opacity" TargetName="DisabledElement" Value="0.7"/>
                                                                                                                </Trigger>
                                                                                                            </ControlTemplate.Triggers>
                                                                                                        </ControlTemplate>
                                                                                                    </Setter.Value>
                                                                                                </Setter>
                                                                                            </Style>
                                                                                        </RepeatButton.Style>
                                                                                    </RepeatButton>
                                                                                </Viewbox>
                                                                            </Grid>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ScrollBar.Style>
                                            </ScrollBar>
                                            <ComponentArt_Win_UI_Utils:CommonPopup x:Name="VerticalScrollerPopup" Child="{x:Null}" HorizontalAlignment="Right" VerticalAlignment="Top"/>
                                        </Grid>
                                        <ComponentArt_Win_UI_Utils:CommonPopup x:Name="ColumnDropPopup" Child="{x:Null}" IsOpen="False">
                                            <ContentControl>
                                                <ContentControl.Template>
                                                    <ControlTemplate>
                                                        <Grid x:Name="DropIndicatorContainer" Margin="0">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="10"/>
                                                                <RowDefinition/>
                                                                <RowDefinition Height="10"/>
                                                            </Grid.RowDefinitions>
                                                            <Grid.Triggers>
                                                                <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                                                    <BeginStoryboard>
                                                                        <Storyboard x:Name="Animation">
                                                                            <DoubleAnimation AutoReverse="True" Duration="0:0:0.35" From="0" RepeatBehavior="Forever" To="10" Storyboard.TargetProperty="Y" Storyboard.TargetName="TopTranslateTransform"/>
                                                                            <DoubleAnimation AutoReverse="True" Duration="0:0:0.35" From="0" RepeatBehavior="Forever" To="-10" Storyboard.TargetProperty="Y" Storyboard.TargetName="BottomTranslateTransform"/>
                                                                            <DoubleAnimation AutoReverse="True" Duration="0:0:0.35" From="1" RepeatBehavior="Forever" To="0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="DropIndicatorContainer"/>
                                                                        </Storyboard>
                                                                    </BeginStoryboard>
                                                                </EventTrigger>
                                                            </Grid.Triggers>
                                                            <Path Data="M1,1L9,1 5,5" Fill="Red" Margin="0" Grid.Row="0" StrokeThickness="0" VerticalAlignment="Top">
                                                                <Path.RenderTransform>
                                                                    <TranslateTransform x:Name="TopTranslateTransform" Y="0"/>
                                                                </Path.RenderTransform>
                                                            </Path>
                                                            <Rectangle Fill="Red" Height="{Binding}" Margin="1,0,0,0" Grid.Row="1" Width="1"/>
                                                            <Path Data="M1,5L9,5 5,1" Fill="Red" Margin="0" Grid.Row="2" StrokeThickness="0" VerticalAlignment="Bottom">
                                                                <Path.RenderTransform>
                                                                    <TranslateTransform x:Name="BottomTranslateTransform" Y="0"/>
                                                                </Path.RenderTransform>
                                                            </Path>
                                                        </Grid>
                                                    </ControlTemplate>
                                                </ContentControl.Template>
                                            </ContentControl>
                                        </ComponentArt_Win_UI_Utils:CommonPopup>
                                        <ComponentArt_Win_UI_Utils:CommonPopup x:Name="ToolTipPopup" Child="{x:Null}" IsOpen="False">
                                            <ContentControl>
                                                <ContentControl.Template>
                                                    <ControlTemplate TargetType="{x:Type ContentControl}">
                                                        <Canvas>
                                                            <Border x:Name="TooltipBorder" BorderBrush="Transparent" BorderThickness="0" Background="Transparent">
                                                                <Canvas x:Name="InfoPanel" Background="Transparent">
                                                                    <Border x:Name="ToolTipShadow" BorderBrush="#FFAAAAAA" BorderThickness="0" Background="#29000000" CornerRadius="2" Margin="2,2,0,0" Padding="0,0,2,2" Panel.ZIndex="1">
                                                                        <Border x:Name="ToolTip" BorderBrush="#FFAAAAAA" BorderThickness="1" CornerRadius="2" Margin="-2,-2,0,0" Padding="3,2" Panel.ZIndex="2">
                                                                            <Border.Background>
                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                    <GradientStop Color="White" Offset="0.3854"/>
                                                                                    <GradientStop Color="Black" Offset="0.3855"/>
                                                                                    <GradientStop Color="Black" Offset="0.3875"/>
                                                                                    <GradientStop Color="#FFF6F6F6" Offset="0.38786"/>
                                                                                </LinearGradientBrush>
                                                                            </Border.Background>
                                                                            <ContentPresenter Content="{TemplateBinding Content}" HorizontalAlignment="Left"/>
                                                                        </Border>
                                                                    </Border>
                                                                </Canvas>
                                                            </Border>
                                                        </Canvas>
                                                    </ControlTemplate>
                                                </ContentControl.Template>
                                            </ContentControl>
                                        </ComponentArt_Win_UI_Utils:CommonPopup>
                                    </Grid>
                                </ScrollViewer>
                                <Border x:Name="DataGridFooterBorder" Grid.Column="0" Grid.Row="2" Visibility="{TemplateBinding FooterVisibility}">
                                    <Border.Style>
                                        <Style TargetType="{x:Type Border}">
                                            <Setter Property="Height" Value="50"/>
                                            <Setter Property="Padding" Value="7"/>
                                            <Setter Property="CornerRadius" Value="0,0,2,2"/>
                                            <Setter Property="Background">
                                                <Setter.Value>
                                                    <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                        <GradientStop Color="#FFF9F9F9"/>
                                                        <GradientStop Color="#FFD0D0D0" Offset="0.45"/>
                                                    </LinearGradientBrush>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Border.Style>
                                    <Grid x:Name="DataGridFooter" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel x:Name="DataGridPager" Grid.Column="0" Orientation="Horizontal">
                                            <Button x:Name="FirstButton" Content="First" Visibility="Collapsed">
                                                <Button.Style>
                                                    <Style TargetType="{x:Type Button}">
                                                        <Setter Property="Margin" Value="3"/>
                                                        <Setter Property="Cursor" Value="Hand"/>
                                                        <Setter Property="Height" Value="25"/>
                                                        <Setter Property="Width" Value="40"/>
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="{x:Type Button}">
                                                                    <Grid Height="{TemplateBinding Height}" Width="{TemplateBinding Width}">
                                                                        <Border x:Name="ButtonBorder" BorderBrush="#FF505050" BorderThickness="1" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}">
                                                                            <Border.Background>
                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                    <GradientStop Color="#FFF9F9F9"/>
                                                                                    <GradientStop Color="#FFF0F0F0" Offset="0.45"/>
                                                                                    <GradientStop Color="#FFD0D0D0" Offset="0.55"/>
                                                                                </LinearGradientBrush>
                                                                            </Border.Background>
                                                                        </Border>
                                                                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor" HorizontalAlignment="Center" Margin="-2,0,0,0" Stretch="None" VerticalAlignment="Center">
                                                                            <Image.Source>
                                                                                <BitmapImage UriSource="pack://application:,,,/ComponentArt.Win.UI.Data;component/pager_first.png"/>
                                                                            </Image.Source>
                                                                        </Image>
                                                                    </Grid>
                                                                    <ControlTemplate.Triggers>
                                                                        <EventTrigger RoutedEvent="Button.MouseEnter">
                                                                            <BeginStoryboard>
                                                                                <Storyboard>
                                                                                    <ColorAnimation AccelerationRatio="0.2"
                                                                                         DecelerationRatio="0.8"
                                                                                         Storyboard.TargetName="ButtonBorder"
                                                                                         Storyboard.TargetProperty="BorderBrush.Color"
                                                                                         From="#FF505050" To="#3c7fb1"
                                                                                         Duration="0:0:0.2" />
                                                                                </Storyboard>
                                                                            </BeginStoryboard>
                                                                        </EventTrigger>
                                                                        <EventTrigger RoutedEvent="Button.MouseLeave">
                                                                            <BeginStoryboard>
                                                                                <Storyboard>
                                                                                    <ColorAnimation AccelerationRatio="0.2"
                                                                                         DecelerationRatio="0.8"
                                                                                         Storyboard.TargetName="ButtonBorder"
                                                                                         Storyboard.TargetProperty="BorderBrush.Color"
                                                                                         To="#FF505050" From="#3c7fb1"
                                                                                         Duration="0:0:0.2" />
                                                                                </Storyboard>
                                                                            </BeginStoryboard>
                                                                        </EventTrigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                            <Button x:Name="PreviousButton" Content="Prev" Visibility="Collapsed">
                                                <Button.Style>
                                                    <Style TargetType="{x:Type Button}">
                                                        <Setter Property="Margin" Value="3"/>
                                                        <Setter Property="Cursor" Value="Hand"/>
                                                        <Setter Property="Height" Value="25"/>
                                                        <Setter Property="Width" Value="40"/>
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="{x:Type Button}">
                                                                    <Grid Height="{TemplateBinding Height}" Width="{TemplateBinding Width}">
                                                                        <Border x:Name="ButtonBorder" BorderThickness="1" BorderBrush="#FF505050" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}">
                                                                            <Border.Background>
                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                    <GradientStop Color="#FFF9F9F9"/>
                                                                                    <GradientStop Color="#FFF0F0F0" Offset="0.45"/>
                                                                                    <GradientStop Color="#FFD0D0D0" Offset="0.55"/>
                                                                                </LinearGradientBrush>
                                                                            </Border.Background>
                                                                        </Border>
                                                                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor" HorizontalAlignment="Center" Margin="-2,0,0,0" Stretch="None" VerticalAlignment="Center">
                                                                            <Image.Source>
                                                                                <BitmapImage UriSource="pack://application:,,,/ComponentArt.Win.UI.Data;component/pager_previous.png"/>
                                                                            </Image.Source>
                                                                        </Image>
                                                                    </Grid>
                                                                    <ControlTemplate.Triggers>
                                                                        <EventTrigger RoutedEvent="Button.MouseEnter">
                                                                            <BeginStoryboard>
                                                                                <Storyboard>
                                                                                    <ColorAnimation AccelerationRatio="0.2"
                                                                                         DecelerationRatio="0.8"
                                                                                         Storyboard.TargetName="ButtonBorder"
                                                                                         Storyboard.TargetProperty="BorderBrush.Color"
                                                                                         From="#FF505050" To="#3c7fb1"
                                                                                         Duration="0:0:0.2" />
                                                                                </Storyboard>
                                                                            </BeginStoryboard>
                                                                        </EventTrigger>
                                                                        <EventTrigger RoutedEvent="Button.MouseLeave">
                                                                            <BeginStoryboard>
                                                                                <Storyboard>
                                                                                    <ColorAnimation AccelerationRatio="0.2"
                                                                                         DecelerationRatio="0.8"
                                                                                         Storyboard.TargetName="ButtonBorder"
                                                                                         Storyboard.TargetProperty="BorderBrush.Color"
                                                                                         To="#FF505050" From="#3c7fb1"
                                                                                         Duration="0:0:0.2" />
                                                                                </Storyboard>
                                                                            </BeginStoryboard>
                                                                        </EventTrigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                            <my:DataGridSlider x:Name="PageSlider" Foreground="Black" Margin="5" Visibility="Collapsed" Width="200"/>
                                            <Button x:Name="NextButton" Content="Next" Visibility="Collapsed">
                                                <Button.Style>
                                                    <Style TargetType="{x:Type Button}">
                                                        <Setter Property="Margin" Value="3"/>
                                                        <Setter Property="Cursor" Value="Hand"/>
                                                        <Setter Property="Height" Value="25"/>
                                                        <Setter Property="Width" Value="40"/>
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="{x:Type Button}">
                                                                    <Grid Height="{TemplateBinding Height}" Width="{TemplateBinding Width}">
                                                                        <Border x:Name="ButtonBorder" BorderThickness="1" BorderBrush="#FF505050" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}">
                                                                            <Border.Background>
                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                    <GradientStop Color="#FFF9F9F9"/>
                                                                                    <GradientStop Color="#FFF0F0F0" Offset="0.45"/>
                                                                                    <GradientStop Color="#FFD0D0D0" Offset="0.55"/>
                                                                                </LinearGradientBrush>
                                                                            </Border.Background>
                                                                        </Border>
                                                                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor" HorizontalAlignment="Center" Margin="2,0,0,0" Stretch="None" VerticalAlignment="Center">
                                                                            <Image.Source>
                                                                                <BitmapImage UriSource="pack://application:,,,/ComponentArt.Win.UI.Data;component/pager_next.png"/>
                                                                            </Image.Source>
                                                                        </Image>
                                                                    </Grid>
                                                                    <ControlTemplate.Triggers>
                                                                        <EventTrigger RoutedEvent="Button.MouseEnter">
                                                                            <BeginStoryboard>
                                                                                <Storyboard>
                                                                                    <ColorAnimation AccelerationRatio="0.2"
                                                                                         DecelerationRatio="0.8"
                                                                                         Storyboard.TargetName="ButtonBorder"
                                                                                         Storyboard.TargetProperty="BorderBrush.Color"
                                                                                         From="#FF505050" To="#3c7fb1"
                                                                                         Duration="0:0:0.2" />
                                                                                </Storyboard>
                                                                            </BeginStoryboard>
                                                                        </EventTrigger>
                                                                        <EventTrigger RoutedEvent="Button.MouseLeave">
                                                                            <BeginStoryboard>
                                                                                <Storyboard>
                                                                                    <ColorAnimation AccelerationRatio="0.2"
                                                                                         DecelerationRatio="0.8"
                                                                                         Storyboard.TargetName="ButtonBorder"
                                                                                         Storyboard.TargetProperty="BorderBrush.Color"
                                                                                         To="#FF505050" From="#3c7fb1"
                                                                                         Duration="0:0:0.2" />
                                                                                </Storyboard>
                                                                            </BeginStoryboard>
                                                                        </EventTrigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                            <Button x:Name="LastButton" Content="Last" Visibility="Collapsed">
                                                <Button.Style>
                                                    <Style TargetType="{x:Type Button}">
                                                        <Setter Property="Margin" Value="3"/>
                                                        <Setter Property="Cursor" Value="Hand"/>
                                                        <Setter Property="Height" Value="25"/>
                                                        <Setter Property="Width" Value="40"/>
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="{x:Type Button}">
                                                                    <Grid Height="{TemplateBinding Height}" Width="{TemplateBinding Width}">
                                                                        <Border x:Name="ButtonBorder" BorderThickness="1" BorderBrush="#FF505050" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}">
                                                                            <Border.Background>
                                                                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                                                    <GradientStop Color="#FFF9F9F9"/>
                                                                                    <GradientStop Color="#FFF0F0F0" Offset="0.45"/>
                                                                                    <GradientStop Color="#FFD0D0D0" Offset="0.55"/>
                                                                                </LinearGradientBrush>
                                                                            </Border.Background>
                                                                        </Border>
                                                                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor" HorizontalAlignment="Center" Margin="-2,0,0,0" Stretch="None" VerticalAlignment="Center">
                                                                            <Image.Source>
                                                                                <BitmapImage UriSource="pack://application:,,,/ComponentArt.Win.UI.Data;component/pager_last.png"/>
                                                                            </Image.Source>
                                                                        </Image>
                                                                    </Grid>
                                                                    <ControlTemplate.Triggers>
                                                                        <EventTrigger RoutedEvent="Button.MouseEnter">
                                                                            <BeginStoryboard>
                                                                                <Storyboard>
                                                                                    <ColorAnimation AccelerationRatio="0.2"
                                                                                         DecelerationRatio="0.8"
                                                                                         Storyboard.TargetName="ButtonBorder"
                                                                                         Storyboard.TargetProperty="BorderBrush.Color"
                                                                                         From="#FF505050" To="#3c7fb1"
                                                                                         Duration="0:0:0.2" />
                                                                                </Storyboard>
                                                                            </BeginStoryboard>
                                                                        </EventTrigger>
                                                                        <EventTrigger RoutedEvent="Button.MouseLeave">
                                                                            <BeginStoryboard>
                                                                                <Storyboard>
                                                                                    <ColorAnimation AccelerationRatio="0.2"
                                                                                         DecelerationRatio="0.8"
                                                                                         Storyboard.TargetName="ButtonBorder"
                                                                                         Storyboard.TargetProperty="BorderBrush.Color"
                                                                                         To="#FF505050" From="#3c7fb1"
                                                                                         Duration="0:0:0.2" />
                                                                                </Storyboard>
                                                                            </BeginStoryboard>
                                                                        </EventTrigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </StackPanel>
                                        <ContentPresenter x:Name="FooterInfo" Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <ComponentArt_Win_UI_Utils:CommonPopup x:Name="PageSliderPopup" Child="{x:Null}" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="{x:Type my:DataGridColumnHeader}">
            <Setter Property="Padding" Value="5" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
        </Style>

        <!--All filter template-->
        <Style x:Key="AllFilters" TargetType="my:DataGridColumnFilterHeader">
            <Setter Property="IsTabStop" Value="False" />
            <Setter Property="BorderThickness" Value="1,0,1,0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="my:DataGridColumnFilterHeader">
                        <Border x:Name="RootElement" HorizontalAlignment="Stretch" Padding="2" BorderThickness="1,0,1,0">
                            <Border.Background>
                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                    <GradientStop Color="#FFF3F3F3" />
                                    <GradientStop Color="#FFD6D6D6" Offset="1" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <Border.BorderBrush>
                                <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                    <GradientStop Color="#FFFFFFFF" />
                                    <GradientStop Color="#FFCCCCCC" Offset="1" />
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Grid x:Name="FilterContent" Visibility="Collapsed">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                </Grid.RowDefinitions>
                                <Button x:Name="FilterButton" Cursor="Hand" Width="19" Height="18">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border BorderBrush="#FFAAAAAA" BorderThickness="1,1,0,1" x:Name="FilterButtonOuterBorder">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Storyboard.TargetName="FilterButtonInnerBorder" Storyboard.TargetProperty="(BorderBrush).(SolidColorBrush.Color)" To="LightBlue" Duration="0:0:0.1" />
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Border BorderBrush="#FFFFFFFF" BorderThickness="1" x:Name="FilterButtonInnerBorder">
                                                    <Border.Background>
                                                        <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                            <GradientStop Color="#FFFFFFFF" />
                                                            <GradientStop Color="#FFFFFFFF" Offset=".35" />
                                                            <GradientStop Color="#FFEFEFEF" Offset=".36" />
                                                            <GradientStop Color="#FFD6D6D6" Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                    <ContentPresenter Content="{TemplateBinding Content}" />
                                                </Border>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                    <Button.Content>
                                        <Grid>
                                            <Image x:Name="NoFilterIcon" ToolTip="Tùy chỉnh bộ lọc" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter.png" Stretch="None" />
                                            <Image x:Name="FilterIcon" Visibility="Collapsed" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filterclose.png" Stretch="None" />
                                        </Grid>
                                    </Button.Content>
                                </Button>
                                <Button x:Name="FilterCloseButton" Cursor="Hand" Width="19" Height="18" Margin="2,0,0,0" Grid.Column="2" Visibility="Collapsed">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border BorderBrush="#FFCCCCCC" BorderThickness="1,1,0,1" x:Name="FilterCloseButtonOuterBorder">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Storyboard.TargetName="FilterCloseButtonInnerBorder" Storyboard.TargetProperty="(BorderBrush).(SolidColorBrush.Color)" To="LightBlue" Duration="0:0:0.1" />
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Border BorderBrush="#FFFFFFFF" BorderThickness="1" x:Name="FilterCloseButtonInnerBorder">
                                                    <Border.Background>
                                                        <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                            <GradientStop Color="#FFFFFFFF" />
                                                            <GradientStop Color="#FFFFFFFF" Offset=".35" />
                                                            <GradientStop Color="#FFEFEFEF" Offset=".36" />
                                                            <GradientStop Color="#FFD6D6D6" Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                    <Image x:Name="FilterCloseIcon" ToolTip="Xoá bộ lọc" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filterclose.png" Stretch="None" />
                                                </Border>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <ComponentArt_Win_UI_Utils:CommonPopup x:Name="FilterOptionsPopup" VerticalOffset="20">
                                    <Grid Background="Transparent">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="26" MaxWidth="26" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Border Background="#FFE3E3E3" />
                                        <Border Background="#FFF9F9F9" Grid.Column="1" />
                                        <ListBox Background="Transparent" x:Name="FilterOptions" Grid.ColumnSpan="2">
                                            <ListBoxItem Tag="Contains">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="ContainsIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_contains.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Chứa từ khoá" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="StartsWith">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="StartsWithIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_startswith.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Bắt đầu với" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="Equals">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="EqualsIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_equals.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Bằng" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="NotEqualTo">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="NotEqualToIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_notequals.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Không bằng" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="GreaterThan">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="GreaterThanIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_greaterthan.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Lớn hơn" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="GreaterThanOrEqual">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="GreaterThanOrEqualIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_greaterthanorequals.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Lớn hơn hoặc bằng" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="LessThan">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="LessThanIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_lessthan.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Nhỏ hơn" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="LessThanOrEqual">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="LessThanOrEqualIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_lessthanorequals.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Nhỏ hơn hoặc bằng" />
                                                </Grid>
                                            </ListBoxItem>
                                        </ListBox>
                                    </Grid>
                                </ComponentArt_Win_UI_Utils:CommonPopup>
                                <TextBox x:Name="FilterValue" Grid.Column="1" Height="19" Padding="1" FontSize="12" />
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!--Text filter template-->
        <Style x:Key="TextFilter" TargetType="my:DataGridColumnFilterHeader">
            <Setter Property="IsTabStop" Value="False" />
            <Setter Property="BorderThickness" Value="1,0,1,0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="my:DataGridColumnFilterHeader">
                        <Border x:Name="RootElement" HorizontalAlignment="Stretch" Padding="2" BorderThickness="1,0,1,0">
                            <Border.Background>
                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                    <GradientStop Color="#FFF3F3F3" />
                                    <GradientStop Color="#FFD6D6D6" Offset="1" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <Border.BorderBrush>
                                <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                    <GradientStop Color="#FFFFFFFF" />
                                    <GradientStop Color="#FFCCCCCC" Offset="1" />
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Grid x:Name="FilterContent" Visibility="Collapsed">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                </Grid.RowDefinitions>
                                <Button x:Name="FilterButton" Cursor="Hand" Width="19" Height="18">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border BorderBrush="#FFAAAAAA" BorderThickness="1,1,0,1" x:Name="FilterButtonOuterBorder">

                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Storyboard.TargetName="FilterButtonInnerBorder" Storyboard.TargetProperty="(BorderBrush).(SolidColorBrush.Color)" To="LightBlue" Duration="0:0:0.1" />
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Border BorderBrush="#FFFFFFFF" BorderThickness="1" x:Name="FilterButtonInnerBorder">
                                                    <Border.Background>
                                                        <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                            <GradientStop Color="#FFFFFFFF" />
                                                            <GradientStop Color="#FFFFFFFF" Offset=".35" />
                                                            <GradientStop Color="#FFEFEFEF" Offset=".36" />
                                                            <GradientStop Color="#FFD6D6D6" Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                    <ContentPresenter Content="{TemplateBinding Content}" />
                                                </Border>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                    <Button.Content>
                                        <Grid>
                                            <Image x:Name="NoFilterIcon" ToolTip="Tùy chỉnh bộ lọc" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter.png" Stretch="None" />
                                            <Image x:Name="FilterIcon" Visibility="Collapsed" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filterclose.png" Stretch="None" />
                                        </Grid>
                                    </Button.Content>
                                </Button>
                                <Button x:Name="FilterCloseButton" Cursor="Hand" Width="19" Height="18" Margin="2,0,0,0" Grid.Column="2" Visibility="Collapsed">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border BorderBrush="#FFCCCCCC" BorderThickness="1,1,0,1" x:Name="FilterCloseButtonOuterBorder">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Storyboard.TargetName="FilterCloseButtonInnerBorder" Storyboard.TargetProperty="(BorderBrush).(SolidColorBrush.Color)" To="LightBlue" Duration="0:0:0.1" />
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Border BorderBrush="#FFFFFFFF" BorderThickness="1" x:Name="FilterCloseButtonInnerBorder">
                                                    <Border.Background>
                                                        <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                            <GradientStop Color="#FFFFFFFF" />
                                                            <GradientStop Color="#FFFFFFFF" Offset=".35" />
                                                            <GradientStop Color="#FFEFEFEF" Offset=".36" />
                                                            <GradientStop Color="#FFD6D6D6" Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                    <Image x:Name="FilterCloseIcon" ToolTip="Xoá bộ lọc" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filterclose.png" Stretch="None" />
                                                </Border>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <ComponentArt_Win_UI_Utils:CommonPopup x:Name="FilterOptionsPopup" VerticalOffset="20">
                                    <Grid Background="Transparent">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="26" MaxWidth="26" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Border Background="#FFE3E3E3" />
                                        <Border Background="#FFF9F9F9" Grid.Column="1" />
                                        <ListBox Background="Transparent" x:Name="FilterOptions" Grid.ColumnSpan="2">
                                            <ListBoxItem Tag="Contains">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="ContainsIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_contains.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Chứa từ khoá" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="StartsWith">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="StartsWithIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_startswith.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Bắt đầu với" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="Equals">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="EqualsIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_equals.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Bằng" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="NotEqualTo">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="NotEqualToIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_notequals.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Không bằng" />
                                                </Grid>
                                            </ListBoxItem>
                                        </ListBox>
                                    </Grid>
                                </ComponentArt_Win_UI_Utils:CommonPopup>
                                <TextBox x:Name="FilterValue" Grid.Column="1" Height="19" Padding="1" FontSize="12" GotKeyboardFocus="FilterValue_GotKeyboardFocus" />
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!--Dropdownlist text filter template-->
        <Style x:Key="DropdownlistTextFilter" TargetType="my:DataGridColumnFilterHeader">
            <Setter Property="IsTabStop" Value="False" />
            <Setter Property="BorderThickness" Value="1,0,1,0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="my:DataGridColumnFilterHeader">
                        <Border x:Name="RootElement" HorizontalAlignment="Stretch" Padding="2" BorderThickness="1,0,1,0">
                            <Border.Background>
                                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                    <GradientStop Color="#FFF3F3F3" />
                                    <GradientStop Color="#FFD6D6D6" Offset="1" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <Border.BorderBrush>
                                <LinearGradientBrush EndPoint="1,0" StartPoint="0,0">
                                    <GradientStop Color="#FFFFFFFF" />
                                    <GradientStop Color="#FFCCCCCC" Offset="1" />
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Grid x:Name="FilterContent" Visibility="Collapsed">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                </Grid.RowDefinitions>
                                <Button x:Name="FilterButton" Cursor="Hand" Width="19" Height="18">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border BorderBrush="#FFAAAAAA" BorderThickness="1,1,0,1" x:Name="FilterButtonOuterBorder">

                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Storyboard.TargetName="FilterButtonInnerBorder" Storyboard.TargetProperty="(BorderBrush).(SolidColorBrush.Color)" To="LightBlue" Duration="0:0:0.1" />
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Border BorderBrush="#FFFFFFFF" BorderThickness="1" x:Name="FilterButtonInnerBorder">
                                                    <Border.Background>
                                                        <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                            <GradientStop Color="#FFFFFFFF" />
                                                            <GradientStop Color="#FFFFFFFF" Offset=".35" />
                                                            <GradientStop Color="#FFEFEFEF" Offset=".36" />
                                                            <GradientStop Color="#FFD6D6D6" Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                    <ContentPresenter Content="{TemplateBinding Content}" />
                                                </Border>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                    <Button.Content>
                                        <Grid>
                                            <Image x:Name="NoFilterIcon" ToolTip="Tùy chỉnh bộ lọc" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter.png" Stretch="None" />
                                            <Image x:Name="FilterIcon" Visibility="Collapsed" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filterclose.png" Stretch="None" />
                                        </Grid>
                                    </Button.Content>
                                </Button>
                                <Button x:Name="FilterCloseButton" Cursor="Hand" Width="19" Height="18" Margin="2,0,0,0" Grid.Column="2" Visibility="Collapsed">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border BorderBrush="#FFCCCCCC" BorderThickness="1,1,0,1" x:Name="FilterCloseButtonOuterBorder">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <ColorAnimation Storyboard.TargetName="FilterCloseButtonInnerBorder" Storyboard.TargetProperty="(BorderBrush).(SolidColorBrush.Color)" To="LightBlue" Duration="0:0:0.1" />
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Border BorderBrush="#FFFFFFFF" BorderThickness="1" x:Name="FilterCloseButtonInnerBorder">
                                                    <Border.Background>
                                                        <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                                                            <GradientStop Color="#FFFFFFFF" />
                                                            <GradientStop Color="#FFFFFFFF" Offset=".35" />
                                                            <GradientStop Color="#FFEFEFEF" Offset=".36" />
                                                            <GradientStop Color="#FFD6D6D6" Offset="1" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                    <Image x:Name="FilterCloseIcon" ToolTip="Xoá bộ lọc" VerticalAlignment="Center" HorizontalAlignment="Center" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filterclose.png" Stretch="None" />
                                                </Border>
                                            </Border>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <ComponentArt_Win_UI_Utils:CommonPopup x:Name="FilterOptionsPopup" VerticalOffset="20">
                                    <Grid Background="Transparent">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="26" MaxWidth="26" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Border Background="#FFE3E3E3" />
                                        <Border Background="#FFF9F9F9" Grid.Column="1" />
                                        <ListBox Background="Transparent" x:Name="FilterOptions" Grid.ColumnSpan="2">
                                            <ListBoxItem Tag="Equals">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="EqualsIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_equals.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Bằng" />
                                                </Grid>
                                            </ListBoxItem>
                                            <ListBoxItem Tag="NotEqualTo">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Image x:Name="NotEqualToIcon" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Source="/PhapY;component/assets/images/Component_Art/Datagrid/datagrid_filter_notequals.png" />
                                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Không bằng" />
                                                </Grid>
                                            </ListBoxItem>
                                        </ListBox>
                                    </Grid>
                                </ComponentArt_Win_UI_Utils:CommonPopup>
                                <my1:ComboBox AutoComplete="True" AutoFilter="True" Grid.Column="1" Height="19" Padding="1" FontSize="12" FilteringType="Contains" SelectionFinalized="ComboBox_SelectionFinalized">
                                </my1:ComboBox>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Application.Resources>
</Application>
